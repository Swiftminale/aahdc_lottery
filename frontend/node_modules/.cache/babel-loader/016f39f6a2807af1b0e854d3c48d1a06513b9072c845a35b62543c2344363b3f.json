{"ast":null,"code":"var _jsxFileName = \"/home/minale/trial/aahdc-lottery-platform-v1/frontend/src/pages/AAHDCAdminPage.js\",\n  _s = $RefreshSig$();\n// frontend/src/pages/AAHDCAdminPage.js\nimport React, { useState, useEffect } from \"react\";\nimport { getUnits } from \"../services/unitService\";\nimport { runAllocation, getAllocatedUnits } from \"../services/allocationService\";\nimport { downloadExcelReport, downloadPdfReport } from \"../services/reportService\";\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction AAHDCAdminPage() {\n  _s();\n  // const [units, setUnits] = useState([]);\n  // Allocated units now displayed from allocated snapshot endpoint\n  const [unallocatedUnits, setUnallocatedUnits] = useState([]);\n  const [allocatedSnapshot, setAllocatedSnapshot] = useState([]); // from /api/allocation/allocated\n  const [selectedMethod, setSelectedMethod] = useState(\"\");\n  const [message, setMessage] = useState(\"\");\n  const [error, setError] = useState(\"\");\n  const [loading, setLoading] = useState(false);\n  // Pagination state\n  const [unallocatedPage, setUnallocatedPage] = useState(1);\n  const [allocatedPage, setAllocatedPage] = useState(1);\n  const PAGE_SIZE = 10;\n  const allocatedCount = allocatedSnapshot.length;\n  const unallocatedCount = unallocatedUnits.length;\n\n  // const fetchUnits = async () => {\n  //   setLoading(true);\n  //   try {\n  //     const allUnits = await getUnits();\n  //     setUnits(allUnits);\n  //     setAllocatedUnits(allUnits.filter((u) => u.allocated));\n  //     setUnallocatedUnits(allUnits.filter((u) => !u.allocated));\n  //   } catch (err) {\n  //     setError(err.message || \"Failed to fetch units.\");\n  //   } finally {\n  //     setLoading(false);\n  //   }\n  // };\n\n  const fetchUnits = async () => {\n    setLoading(true);\n    try {\n      const allUnits = await getUnits();\n      // Defensive: filter out units missing required fields\n      const validUnits = Array.isArray(allUnits) ? allUnits.filter(u => u && typeof u.unitId !== \"undefined\" && typeof u.allocated !== \"undefined\") : [];\n      // allocated units list comes from allocated snapshot endpoint\n      setUnallocatedUnits(validUnits.filter(u => u.allocated === false));\n      setUnallocatedPage(1); // Reset to first page on data reload\n      setAllocatedPage(1);\n    } catch (err) {\n      setError(err.message || \"Failed to fetch units.\");\n    } finally {\n      setLoading(false);\n    }\n  };\n  useEffect(() => {\n    fetchUnits();\n    fetchAllocated();\n  }, []);\n\n  // const handleRunAllocation = async () => {\n  //   setMessage(\"\");\n  //   setError(\"\");\n  //   setLoading(true);\n  //   try {\n  //     const response = await runAllocation(selectedMethod);\n  //     setMessage(response.message);\n  //     if (response.complianceIssues && response.complianceIssues.length > 0) {\n  //       setError(\n  //         \"Compliance issues detected after allocation: \" +\n  //           response.complianceIssues.join(\", \")\n  //       );\n  //     }\n  //     fetchUnits(); // Refresh unit data\n  //   } catch (err) {\n  //     setError(err.message || \"Failed to run allocation.\");\n  //   } finally {\n  //     setLoading(false);\n  //   }\n  // };\n  const handleRunAllocation = async () => {\n    setMessage(\"\");\n    setError(\"\");\n    setLoading(true);\n    try {\n      const response = await runAllocation(selectedMethod);\n      setMessage(response.message);\n      if (response.complianceIssues && response.complianceIssues.length > 0) {\n        setError(\"Compliance issues detected after allocation: \" + response.complianceIssues.join(\", \"));\n      }\n    } catch (err) {\n      try {\n        // Try parsing the error message as JSON for detailed issues\n        const errorData = JSON.parse(err.message);\n        if (errorData.issues) {\n          setError(\"Pre-allocation compliance failed: \" + errorData.issues.join(\", \"));\n        } else {\n          setError(err.message || \"Failed to run allocation.\");\n        }\n      } catch {\n        setError(err.message || \"Failed to run allocation.\");\n      }\n    } finally {\n      setLoading(false);\n      fetchUnits();\n      // Refresh allocated snapshot (includes candidate info if present)\n      fetchAllocated();\n    }\n  };\n  const fetchAllocated = async () => {\n    try {\n      const data = await getAllocatedUnits();\n      setAllocatedSnapshot(Array.isArray(data) ? data : []);\n    } catch (e) {\n      // non-fatal for page\n    }\n  };\n  const handleDownloadExcel = async () => {\n    setError(\"\");\n    setMessage(\"\");\n    setLoading(true);\n    try {\n      await downloadExcelReport();\n      setMessage(\"Excel report downloaded successfully.\");\n    } catch (err) {\n      setError(err.message || \"Failed to download Excel report.\");\n    } finally {\n      setLoading(false);\n    }\n  };\n  const handleDownloadPdf = async () => {\n    setError(\"\");\n    setMessage(\"\");\n    setLoading(true);\n    try {\n      await downloadPdfReport();\n      setMessage(\"PDF report downloaded successfully.\");\n    } catch (err) {\n      setError(err.message || \"Failed to download PDF report.\");\n    } finally {\n      setLoading(false);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container-card\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"AAHDC Admin Portal\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 166,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"stats\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"stat\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"stat-label\",\n          children: \"Unallocated\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 171,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"stat-value\",\n          children: unallocatedCount\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 172,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 170,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"stat\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"stat-label\",\n          children: \"Allocated\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 175,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"stat-value\",\n          children: allocatedCount\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 176,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 174,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"btn btn-outline\",\n        onClick: () => {\n          fetchUnits();\n          fetchAllocated();\n        },\n        disabled: loading,\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"btn-icon\",\n          children: \"\\uD83D\\uDD04\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 186,\n          columnNumber: 11\n        }, this), \" Refresh\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 178,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 169,\n      columnNumber: 7\n    }, this), loading && /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"tip\",\n      children: \"Loading...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 190,\n      columnNumber: 19\n    }, this), message && /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"message-success\",\n      children: message\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 191,\n      columnNumber: 19\n    }, this), error && /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"message-error\",\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 192,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n      style: {\n        marginBottom: 20\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"section-header\",\n        children: /*#__PURE__*/_jsxDEV(\"h3\", {\n          children: [\"Unallocated Units (\", unallocatedCount, \")\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 197,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 196,\n        columnNumber: 9\n      }, this), unallocatedCount > 0 ? /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"table-container\",\n          children: /*#__PURE__*/_jsxDEV(\"table\", {\n            children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n              children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"Unit ID\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 205,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"Typology\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 206,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"Gross Area\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 207,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"Floor\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 208,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"Block\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 209,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 204,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 203,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n              children: unallocatedUnits.slice((unallocatedPage - 1) * PAGE_SIZE, unallocatedPage * PAGE_SIZE).map(unit => /*#__PURE__*/_jsxDEV(\"tr\", {\n                children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                  children: unit.unitId\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 220,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: unit.typology || \"-\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 221,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: unit.grossArea ? Number(unit.grossArea).toFixed(2) : \"-\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 222,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: unit.floorNumber || \"-\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 227,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: unit.blockName || \"-\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 228,\n                  columnNumber: 25\n                }, this)]\n              }, unit.unitId, true, {\n                fileName: _jsxFileName,\n                lineNumber: 219,\n                columnNumber: 23\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 212,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 202,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 201,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            display: \"flex\",\n            justifyContent: \"center\",\n            marginTop: 10,\n            gap: 10\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn btn-outline\",\n            onClick: () => setUnallocatedPage(p => Math.max(1, p - 1)),\n            disabled: unallocatedPage === 1,\n            children: \"\\u2190 Previous\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 242,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"tip\",\n            children: [\"Page \", unallocatedPage, \" of\", \" \", Math.ceil(unallocatedCount / PAGE_SIZE)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 249,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn btn-outline\",\n            onClick: () => setUnallocatedPage(p => p < Math.ceil(unallocatedCount / PAGE_SIZE) ? p + 1 : p),\n            disabled: unallocatedPage >= Math.ceil(unallocatedCount / PAGE_SIZE),\n            children: \"Next \\u2192\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 253,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 234,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true) : /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"tip\",\n        children: \"No unallocated units to display. Please submit units via the Developer Portal.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 269,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 195,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n      style: {\n        marginBottom: 20\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"section-header\",\n        children: /*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"Run Allocation\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 279,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 278,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-grid\",\n        style: {\n          alignItems: \"end\"\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-field\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Distribution Method\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 283,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n            value: selectedMethod,\n            onChange: e => setSelectedMethod(e.target.value),\n            children: [/*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"\",\n              children: \"-- Select Method --\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 288,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"Full Lottery\",\n              children: \"Full Lottery (Houses + Shops)\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 289,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"Hybrid Lottery\",\n              children: \"Hybrid Lottery (Houses) + Negotiation (Shops)\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 292,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"Block-by-Block Assignment\",\n              children: \"Block-by-Block Assignment\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 295,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"Lottery Based on Floor Number\",\n              children: \"Lottery Based on Floor Number\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 298,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"Assign Candidates by Typology\",\n              children: \"Assign Candidates by Typology (match candidates to units)\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 301,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 284,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 282,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-actions\",\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn btn-primary\",\n            onClick: handleRunAllocation,\n            disabled: !selectedMethod || loading || unallocatedCount === 0,\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"btn-icon\",\n              children: \"\\uD83C\\uDFB2\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 312,\n              columnNumber: 15\n            }, this), \" Run Allocation\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 307,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 306,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 281,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 277,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n      style: {\n        marginBottom: 20\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"section-header\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: [\"Allocated Units (\", allocatedCount, \")\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 321,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn btn-outline\",\n            onClick: fetchAllocated,\n            disabled: loading,\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"btn-icon\",\n              children: \"\\uD83D\\uDD01\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 328,\n              columnNumber: 15\n            }, this), \" Refresh Allocated\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 323,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 322,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 320,\n        columnNumber: 9\n      }, this), allocatedCount > 0 ? /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"table-container\",\n          children: /*#__PURE__*/_jsxDEV(\"table\", {\n            children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n              children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"Unit ID\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 338,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"Typology\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 339,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"Gross Area\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 340,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"Floor\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 341,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"Block\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 342,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"Owner / Candidate\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 343,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"Phone\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 344,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 337,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 336,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n              children: allocatedSnapshot.slice((allocatedPage - 1) * PAGE_SIZE, allocatedPage * PAGE_SIZE).map(row => /*#__PURE__*/_jsxDEV(\"tr\", {\n                children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                  children: row.unitId\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 355,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: row.typology || \"-\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 356,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: row.grossArea ? Number(row.grossArea).toFixed(2) : \"-\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 357,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: row.floorNumber || \"-\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 362,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: row.blockName || \"-\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 363,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  style: {\n                    fontWeight: \"bold\",\n                    color: row.owner === \"AAHDC\" ? \"#27ae60\" : \"#2980b9\"\n                  },\n                  children: row.owner || row.candidateName || \"-\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 364,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: row.candidatePhone || \"-\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 373,\n                  columnNumber: 25\n                }, this)]\n              }, row.unitId, true, {\n                fileName: _jsxFileName,\n                lineNumber: 354,\n                columnNumber: 23\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 347,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 335,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 334,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            display: \"flex\",\n            justifyContent: \"center\",\n            marginTop: 10,\n            gap: 10\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn btn-outline\",\n            onClick: () => setAllocatedPage(p => Math.max(1, p - 1)),\n            disabled: allocatedPage === 1,\n            children: \"\\u2190 Previous\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 387,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"tip\",\n            children: [\"Page \", allocatedPage, \" of \", Math.ceil(allocatedCount / PAGE_SIZE)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 394,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn btn-outline\",\n            onClick: () => setAllocatedPage(p => p < Math.ceil(allocatedCount / PAGE_SIZE) ? p + 1 : p),\n            disabled: allocatedPage >= Math.ceil(allocatedCount / PAGE_SIZE),\n            children: \"Next \\u2192\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 397,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 379,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true) : /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"tip\",\n        children: \"No units have been allocated yet. Run an allocation method above.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 413,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 319,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"section-header\",\n        children: /*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"Reports\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 422,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 421,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: \"flex\",\n          justifyContent: \"center\",\n          gap: 12\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn btn-primary\",\n          onClick: handleDownloadExcel,\n          disabled: loading || allocatedCount === 0,\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"btn-icon\",\n            children: \"\\uD83D\\uDCCA\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 430,\n            columnNumber: 13\n          }, this), \" Excel Report\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 425,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn btn-secondary\",\n          onClick: handleDownloadPdf,\n          disabled: loading || allocatedCount === 0,\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"btn-icon\",\n            children: \"\\uD83D\\uDCC4\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 437,\n            columnNumber: 13\n          }, this), \" PDF Report\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 432,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 424,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 420,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 165,\n    columnNumber: 5\n  }, this);\n}\n_s(AAHDCAdminPage, \"CKf4e5SzOWQkiTiogOSljimbyb8=\");\n_c = AAHDCAdminPage;\nexport default AAHDCAdminPage;\nvar _c;\n$RefreshReg$(_c, \"AAHDCAdminPage\");","map":{"version":3,"names":["React","useState","useEffect","getUnits","runAllocation","getAllocatedUnits","downloadExcelReport","downloadPdfReport","jsxDEV","_jsxDEV","Fragment","_Fragment","AAHDCAdminPage","_s","unallocatedUnits","setUnallocatedUnits","allocatedSnapshot","setAllocatedSnapshot","selectedMethod","setSelectedMethod","message","setMessage","error","setError","loading","setLoading","unallocatedPage","setUnallocatedPage","allocatedPage","setAllocatedPage","PAGE_SIZE","allocatedCount","length","unallocatedCount","fetchUnits","allUnits","validUnits","Array","isArray","filter","u","unitId","allocated","err","fetchAllocated","handleRunAllocation","response","complianceIssues","join","errorData","JSON","parse","issues","data","e","handleDownloadExcel","handleDownloadPdf","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","disabled","style","marginBottom","slice","map","unit","typology","grossArea","Number","toFixed","floorNumber","blockName","display","justifyContent","marginTop","gap","p","Math","max","ceil","alignItems","value","onChange","target","row","fontWeight","color","owner","candidateName","candidatePhone","_c","$RefreshReg$"],"sources":["/home/minale/trial/aahdc-lottery-platform-v1/frontend/src/pages/AAHDCAdminPage.js"],"sourcesContent":["// frontend/src/pages/AAHDCAdminPage.js\nimport React, { useState, useEffect } from \"react\";\nimport { getUnits } from \"../services/unitService\";\nimport {\n  runAllocation,\n  getAllocatedUnits,\n} from \"../services/allocationService\";\nimport {\n  downloadExcelReport,\n  downloadPdfReport,\n} from \"../services/reportService\";\n\nfunction AAHDCAdminPage() {\n  // const [units, setUnits] = useState([]);\n  // Allocated units now displayed from allocated snapshot endpoint\n  const [unallocatedUnits, setUnallocatedUnits] = useState([]);\n  const [allocatedSnapshot, setAllocatedSnapshot] = useState([]); // from /api/allocation/allocated\n  const [selectedMethod, setSelectedMethod] = useState(\"\");\n  const [message, setMessage] = useState(\"\");\n  const [error, setError] = useState(\"\");\n  const [loading, setLoading] = useState(false);\n  // Pagination state\n  const [unallocatedPage, setUnallocatedPage] = useState(1);\n  const [allocatedPage, setAllocatedPage] = useState(1);\n  const PAGE_SIZE = 10;\n  const allocatedCount = allocatedSnapshot.length;\n  const unallocatedCount = unallocatedUnits.length;\n\n  // const fetchUnits = async () => {\n  //   setLoading(true);\n  //   try {\n  //     const allUnits = await getUnits();\n  //     setUnits(allUnits);\n  //     setAllocatedUnits(allUnits.filter((u) => u.allocated));\n  //     setUnallocatedUnits(allUnits.filter((u) => !u.allocated));\n  //   } catch (err) {\n  //     setError(err.message || \"Failed to fetch units.\");\n  //   } finally {\n  //     setLoading(false);\n  //   }\n  // };\n\n  const fetchUnits = async () => {\n    setLoading(true);\n    try {\n      const allUnits = await getUnits();\n      // Defensive: filter out units missing required fields\n      const validUnits = Array.isArray(allUnits)\n        ? allUnits.filter(\n            (u) =>\n              u &&\n              typeof u.unitId !== \"undefined\" &&\n              typeof u.allocated !== \"undefined\"\n          )\n        : [];\n      // allocated units list comes from allocated snapshot endpoint\n      setUnallocatedUnits(validUnits.filter((u) => u.allocated === false));\n      setUnallocatedPage(1); // Reset to first page on data reload\n      setAllocatedPage(1);\n    } catch (err) {\n      setError(err.message || \"Failed to fetch units.\");\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  useEffect(() => {\n    fetchUnits();\n    fetchAllocated();\n  }, []);\n\n  // const handleRunAllocation = async () => {\n  //   setMessage(\"\");\n  //   setError(\"\");\n  //   setLoading(true);\n  //   try {\n  //     const response = await runAllocation(selectedMethod);\n  //     setMessage(response.message);\n  //     if (response.complianceIssues && response.complianceIssues.length > 0) {\n  //       setError(\n  //         \"Compliance issues detected after allocation: \" +\n  //           response.complianceIssues.join(\", \")\n  //       );\n  //     }\n  //     fetchUnits(); // Refresh unit data\n  //   } catch (err) {\n  //     setError(err.message || \"Failed to run allocation.\");\n  //   } finally {\n  //     setLoading(false);\n  //   }\n  // };\n  const handleRunAllocation = async () => {\n    setMessage(\"\");\n    setError(\"\");\n    setLoading(true);\n    try {\n      const response = await runAllocation(selectedMethod);\n      setMessage(response.message);\n      if (response.complianceIssues && response.complianceIssues.length > 0) {\n        setError(\n          \"Compliance issues detected after allocation: \" +\n            response.complianceIssues.join(\", \")\n        );\n      }\n    } catch (err) {\n      try {\n        // Try parsing the error message as JSON for detailed issues\n        const errorData = JSON.parse(err.message);\n        if (errorData.issues) {\n          setError(\n            \"Pre-allocation compliance failed: \" + errorData.issues.join(\", \")\n          );\n        } else {\n          setError(err.message || \"Failed to run allocation.\");\n        }\n      } catch {\n        setError(err.message || \"Failed to run allocation.\");\n      }\n    } finally {\n      setLoading(false);\n      fetchUnits();\n      // Refresh allocated snapshot (includes candidate info if present)\n      fetchAllocated();\n    }\n  };\n\n  const fetchAllocated = async () => {\n    try {\n      const data = await getAllocatedUnits();\n      setAllocatedSnapshot(Array.isArray(data) ? data : []);\n    } catch (e) {\n      // non-fatal for page\n    }\n  };\n\n  const handleDownloadExcel = async () => {\n    setError(\"\");\n    setMessage(\"\");\n    setLoading(true);\n    try {\n      await downloadExcelReport();\n      setMessage(\"Excel report downloaded successfully.\");\n    } catch (err) {\n      setError(err.message || \"Failed to download Excel report.\");\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleDownloadPdf = async () => {\n    setError(\"\");\n    setMessage(\"\");\n    setLoading(true);\n    try {\n      await downloadPdfReport();\n      setMessage(\"PDF report downloaded successfully.\");\n    } catch (err) {\n      setError(err.message || \"Failed to download PDF report.\");\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  return (\n    <div className=\"container-card\">\n      <h2>AAHDC Admin Portal</h2>\n\n      {/* Stats and quick actions */}\n      <div className=\"stats\">\n        <div className=\"stat\">\n          <div className=\"stat-label\">Unallocated</div>\n          <div className=\"stat-value\">{unallocatedCount}</div>\n        </div>\n        <div className=\"stat\">\n          <div className=\"stat-label\">Allocated</div>\n          <div className=\"stat-value\">{allocatedCount}</div>\n        </div>\n        <button\n          className=\"btn btn-outline\"\n          onClick={() => {\n            fetchUnits();\n            fetchAllocated();\n          }}\n          disabled={loading}\n        >\n          <span className=\"btn-icon\">🔄</span> Refresh\n        </button>\n      </div>\n\n      {loading && <p className=\"tip\">Loading...</p>}\n      {message && <p className=\"message-success\">{message}</p>}\n      {error && <p className=\"message-error\">{error}</p>}\n\n      {/* Unallocated units */}\n      <section style={{ marginBottom: 20 }}>\n        <div className=\"section-header\">\n          <h3>Unallocated Units ({unallocatedCount})</h3>\n        </div>\n        {unallocatedCount > 0 ? (\n          <>\n            <div className=\"table-container\">\n              <table>\n                <thead>\n                  <tr>\n                    <th>Unit ID</th>\n                    <th>Typology</th>\n                    <th>Gross Area</th>\n                    <th>Floor</th>\n                    <th>Block</th>\n                  </tr>\n                </thead>\n                <tbody>\n                  {unallocatedUnits\n                    .slice(\n                      (unallocatedPage - 1) * PAGE_SIZE,\n                      unallocatedPage * PAGE_SIZE\n                    )\n                    .map((unit) => (\n                      <tr key={unit.unitId}>\n                        <td>{unit.unitId}</td>\n                        <td>{unit.typology || \"-\"}</td>\n                        <td>\n                          {unit.grossArea\n                            ? Number(unit.grossArea).toFixed(2)\n                            : \"-\"}\n                        </td>\n                        <td>{unit.floorNumber || \"-\"}</td>\n                        <td>{unit.blockName || \"-\"}</td>\n                      </tr>\n                    ))}\n                </tbody>\n              </table>\n            </div>\n            <div\n              style={{\n                display: \"flex\",\n                justifyContent: \"center\",\n                marginTop: 10,\n                gap: 10,\n              }}\n            >\n              <button\n                className=\"btn btn-outline\"\n                onClick={() => setUnallocatedPage((p) => Math.max(1, p - 1))}\n                disabled={unallocatedPage === 1}\n              >\n                ← Previous\n              </button>\n              <span className=\"tip\">\n                Page {unallocatedPage} of{\" \"}\n                {Math.ceil(unallocatedCount / PAGE_SIZE)}\n              </span>\n              <button\n                className=\"btn btn-outline\"\n                onClick={() =>\n                  setUnallocatedPage((p) =>\n                    p < Math.ceil(unallocatedCount / PAGE_SIZE) ? p + 1 : p\n                  )\n                }\n                disabled={\n                  unallocatedPage >= Math.ceil(unallocatedCount / PAGE_SIZE)\n                }\n              >\n                Next →\n              </button>\n            </div>\n          </>\n        ) : (\n          <p className=\"tip\">\n            No unallocated units to display. Please submit units via the\n            Developer Portal.\n          </p>\n        )}\n      </section>\n\n      {/* Run allocation */}\n      <section style={{ marginBottom: 20 }}>\n        <div className=\"section-header\">\n          <h3>Run Allocation</h3>\n        </div>\n        <div className=\"form-grid\" style={{ alignItems: \"end\" }}>\n          <div className=\"form-field\">\n            <label>Distribution Method</label>\n            <select\n              value={selectedMethod}\n              onChange={(e) => setSelectedMethod(e.target.value)}\n            >\n              <option value=\"\">-- Select Method --</option>\n              <option value=\"Full Lottery\">\n                Full Lottery (Houses + Shops)\n              </option>\n              <option value=\"Hybrid Lottery\">\n                Hybrid Lottery (Houses) + Negotiation (Shops)\n              </option>\n              <option value=\"Block-by-Block Assignment\">\n                Block-by-Block Assignment\n              </option>\n              <option value=\"Lottery Based on Floor Number\">\n                Lottery Based on Floor Number\n              </option>\n              <option value=\"Assign Candidates by Typology\">\n                Assign Candidates by Typology (match candidates to units)\n              </option>\n            </select>\n          </div>\n          <div className=\"form-actions\">\n            <button\n              className=\"btn btn-primary\"\n              onClick={handleRunAllocation}\n              disabled={!selectedMethod || loading || unallocatedCount === 0}\n            >\n              <span className=\"btn-icon\">🎲</span> Run Allocation\n            </button>\n          </div>\n        </div>\n      </section>\n\n      {/* Allocated snapshot */}\n      <section style={{ marginBottom: 20 }}>\n        <div className=\"section-header\">\n          <h3>Allocated Units ({allocatedCount})</h3>\n          <div>\n            <button\n              className=\"btn btn-outline\"\n              onClick={fetchAllocated}\n              disabled={loading}\n            >\n              <span className=\"btn-icon\">🔁</span> Refresh Allocated\n            </button>\n          </div>\n        </div>\n        {allocatedCount > 0 ? (\n          <>\n            <div className=\"table-container\">\n              <table>\n                <thead>\n                  <tr>\n                    <th>Unit ID</th>\n                    <th>Typology</th>\n                    <th>Gross Area</th>\n                    <th>Floor</th>\n                    <th>Block</th>\n                    <th>Owner / Candidate</th>\n                    <th>Phone</th>\n                  </tr>\n                </thead>\n                <tbody>\n                  {allocatedSnapshot\n                    .slice(\n                      (allocatedPage - 1) * PAGE_SIZE,\n                      allocatedPage * PAGE_SIZE\n                    )\n                    .map((row) => (\n                      <tr key={row.unitId}>\n                        <td>{row.unitId}</td>\n                        <td>{row.typology || \"-\"}</td>\n                        <td>\n                          {row.grossArea\n                            ? Number(row.grossArea).toFixed(2)\n                            : \"-\"}\n                        </td>\n                        <td>{row.floorNumber || \"-\"}</td>\n                        <td>{row.blockName || \"-\"}</td>\n                        <td\n                          style={{\n                            fontWeight: \"bold\",\n                            color:\n                              row.owner === \"AAHDC\" ? \"#27ae60\" : \"#2980b9\",\n                          }}\n                        >\n                          {row.owner || row.candidateName || \"-\"}\n                        </td>\n                        <td>{row.candidatePhone || \"-\"}</td>\n                      </tr>\n                    ))}\n                </tbody>\n              </table>\n            </div>\n            <div\n              style={{\n                display: \"flex\",\n                justifyContent: \"center\",\n                marginTop: 10,\n                gap: 10,\n              }}\n            >\n              <button\n                className=\"btn btn-outline\"\n                onClick={() => setAllocatedPage((p) => Math.max(1, p - 1))}\n                disabled={allocatedPage === 1}\n              >\n                ← Previous\n              </button>\n              <span className=\"tip\">\n                Page {allocatedPage} of {Math.ceil(allocatedCount / PAGE_SIZE)}\n              </span>\n              <button\n                className=\"btn btn-outline\"\n                onClick={() =>\n                  setAllocatedPage((p) =>\n                    p < Math.ceil(allocatedCount / PAGE_SIZE) ? p + 1 : p\n                  )\n                }\n                disabled={\n                  allocatedPage >= Math.ceil(allocatedCount / PAGE_SIZE)\n                }\n              >\n                Next →\n              </button>\n            </div>\n          </>\n        ) : (\n          <p className=\"tip\">\n            No units have been allocated yet. Run an allocation method above.\n          </p>\n        )}\n      </section>\n\n      {/* Reports */}\n      <section>\n        <div className=\"section-header\">\n          <h3>Reports</h3>\n        </div>\n        <div style={{ display: \"flex\", justifyContent: \"center\", gap: 12 }}>\n          <button\n            className=\"btn btn-primary\"\n            onClick={handleDownloadExcel}\n            disabled={loading || allocatedCount === 0}\n          >\n            <span className=\"btn-icon\">📊</span> Excel Report\n          </button>\n          <button\n            className=\"btn btn-secondary\"\n            onClick={handleDownloadPdf}\n            disabled={loading || allocatedCount === 0}\n          >\n            <span className=\"btn-icon\">📄</span> PDF Report\n          </button>\n        </div>\n      </section>\n    </div>\n  );\n}\n\nexport default AAHDCAdminPage;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}