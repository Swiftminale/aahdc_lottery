{"ast":null,"code":"const API_BASE = process.env.REACT_APP_API_BASE_URL || \"\"; // e.g., https://your-backend.vercel.app\nconst API_URL = `${API_BASE}/api/auth`;\nexport async function login(credentials) {\n  try {\n    const response = await fetch(`${process.env.REACT_APP_API_BASE_URL}/api/auth/login`, {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify(credentials),\n      credentials: \"include\"\n    });\n    if (!response.ok) {\n      console.error(\"CORS or network error:\", response.status, response.statusText);\n      throw new Error(\"Network response was not ok\");\n    }\n    return await response.json();\n  } catch (error) {\n    console.error(\"CORS/network error:\", error);\n    throw error;\n  }\n}\nexport function logout() {\n  localStorage.removeItem(\"token\");\n  localStorage.removeItem(\"user\");\n}\nexport function getToken() {\n  return localStorage.getItem(\"token\");\n}\nexport function getUser() {\n  const raw = localStorage.getItem(\"user\");\n  return raw ? JSON.parse(raw) : null;\n}","map":{"version":3,"names":["API_BASE","process","env","REACT_APP_API_BASE_URL","API_URL","login","credentials","response","fetch","method","headers","body","JSON","stringify","ok","console","error","status","statusText","Error","json","logout","localStorage","removeItem","getToken","getItem","getUser","raw","parse"],"sources":["/home/minale/trial/aahdc-lottery-platform-v1/frontend/src/services/authService.js"],"sourcesContent":["const API_BASE = process.env.REACT_APP_API_BASE_URL || \"\"; // e.g., https://your-backend.vercel.app\nconst API_URL = `${API_BASE}/api/auth`;\n\nexport async function login(credentials) {\n  try {\n    const response = await fetch(`${process.env.REACT_APP_API_BASE_URL}/api/auth/login`, {\n      method: \"POST\",\n      headers: { \"Content-Type\": \"application/json\" },\n      body: JSON.stringify(credentials),\n      credentials: \"include\",\n    });\n    if (!response.ok) {\n      console.error(\"CORS or network error:\", response.status, response.statusText);\n      throw new Error(\"Network response was not ok\");\n    }\n    return await response.json();\n  } catch (error) {\n    console.error(\"CORS/network error:\", error);\n    throw error;\n  }\n}\n\nexport function logout() {\n  localStorage.removeItem(\"token\");\n  localStorage.removeItem(\"user\");\n}\n\nexport function getToken() {\n  return localStorage.getItem(\"token\");\n}\n\nexport function getUser() {\n  const raw = localStorage.getItem(\"user\");\n  return raw ? JSON.parse(raw) : null;\n}\n"],"mappings":"AAAA,MAAMA,QAAQ,GAAGC,OAAO,CAACC,GAAG,CAACC,sBAAsB,IAAI,EAAE,CAAC,CAAC;AAC3D,MAAMC,OAAO,GAAG,GAAGJ,QAAQ,WAAW;AAEtC,OAAO,eAAeK,KAAKA,CAACC,WAAW,EAAE;EACvC,IAAI;IACF,MAAMC,QAAQ,GAAG,MAAMC,KAAK,CAAC,GAAGP,OAAO,CAACC,GAAG,CAACC,sBAAsB,iBAAiB,EAAE;MACnFM,MAAM,EAAE,MAAM;MACdC,OAAO,EAAE;QAAE,cAAc,EAAE;MAAmB,CAAC;MAC/CC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAACP,WAAW,CAAC;MACjCA,WAAW,EAAE;IACf,CAAC,CAAC;IACF,IAAI,CAACC,QAAQ,CAACO,EAAE,EAAE;MAChBC,OAAO,CAACC,KAAK,CAAC,wBAAwB,EAAET,QAAQ,CAACU,MAAM,EAAEV,QAAQ,CAACW,UAAU,CAAC;MAC7E,MAAM,IAAIC,KAAK,CAAC,6BAA6B,CAAC;IAChD;IACA,OAAO,MAAMZ,QAAQ,CAACa,IAAI,CAAC,CAAC;EAC9B,CAAC,CAAC,OAAOJ,KAAK,EAAE;IACdD,OAAO,CAACC,KAAK,CAAC,qBAAqB,EAAEA,KAAK,CAAC;IAC3C,MAAMA,KAAK;EACb;AACF;AAEA,OAAO,SAASK,MAAMA,CAAA,EAAG;EACvBC,YAAY,CAACC,UAAU,CAAC,OAAO,CAAC;EAChCD,YAAY,CAACC,UAAU,CAAC,MAAM,CAAC;AACjC;AAEA,OAAO,SAASC,QAAQA,CAAA,EAAG;EACzB,OAAOF,YAAY,CAACG,OAAO,CAAC,OAAO,CAAC;AACtC;AAEA,OAAO,SAASC,OAAOA,CAAA,EAAG;EACxB,MAAMC,GAAG,GAAGL,YAAY,CAACG,OAAO,CAAC,MAAM,CAAC;EACxC,OAAOE,GAAG,GAAGf,IAAI,CAACgB,KAAK,CAACD,GAAG,CAAC,GAAG,IAAI;AACrC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}