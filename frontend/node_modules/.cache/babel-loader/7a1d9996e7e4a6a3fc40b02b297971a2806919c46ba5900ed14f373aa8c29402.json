{"ast":null,"code":"const API_BASE = process.env.REACT_APP_API_BASE_URL || \"\"; // e.g., https://your-backend.vercel.app\nconst API_URL = `${API_BASE}/api/auth`;\nexport async function login(username, password) {\n  const res = await fetch(`${API_URL}/login`, {\n    method: \"POST\",\n    headers: {\n      \"Content-Type\": \"application/json\"\n    },\n    body: JSON.stringify({\n      username,\n      password\n    })\n  });\n  if (!res.ok) {\n    const data = await res.json().catch(() => ({}));\n    throw new Error(data.message || \"Login failed\");\n  }\n  const data = await res.json();\n  localStorage.setItem(\"token\", data.token);\n  localStorage.setItem(\"user\", JSON.stringify(data.user));\n  return data;\n}\nexport function logout() {\n  localStorage.removeItem(\"token\");\n  localStorage.removeItem(\"user\");\n}\nexport function getToken() {\n  return localStorage.getItem(\"token\");\n}\nexport function getUser() {\n  const raw = localStorage.getItem(\"user\");\n  return raw ? JSON.parse(raw) : null;\n}","map":{"version":3,"names":["API_BASE","process","env","REACT_APP_API_BASE_URL","API_URL","login","username","password","res","fetch","method","headers","body","JSON","stringify","ok","data","json","catch","Error","message","localStorage","setItem","token","user","logout","removeItem","getToken","getItem","getUser","raw","parse"],"sources":["/home/minale/trial/aahdc-lottery-platform-v1/frontend/src/services/authService.js"],"sourcesContent":["const API_BASE = process.env.REACT_APP_API_BASE_URL || \"\"; // e.g., https://your-backend.vercel.app\nconst API_URL = `${API_BASE}/api/auth`;\n\nexport async function login(username, password) {\n  const res = await fetch(`${API_URL}/login`, {\n    method: \"POST\",\n    headers: { \"Content-Type\": \"application/json\" },\n    body: JSON.stringify({ username, password }),\n  });\n  if (!res.ok) {\n    const data = await res.json().catch(() => ({}));\n    throw new Error(data.message || \"Login failed\");\n  }\n  const data = await res.json();\n  localStorage.setItem(\"token\", data.token);\n  localStorage.setItem(\"user\", JSON.stringify(data.user));\n  return data;\n}\n\nexport function logout() {\n  localStorage.removeItem(\"token\");\n  localStorage.removeItem(\"user\");\n}\n\nexport function getToken() {\n  return localStorage.getItem(\"token\");\n}\n\nexport function getUser() {\n  const raw = localStorage.getItem(\"user\");\n  return raw ? JSON.parse(raw) : null;\n}\n"],"mappings":"AAAA,MAAMA,QAAQ,GAAGC,OAAO,CAACC,GAAG,CAACC,sBAAsB,IAAI,EAAE,CAAC,CAAC;AAC3D,MAAMC,OAAO,GAAG,GAAGJ,QAAQ,WAAW;AAEtC,OAAO,eAAeK,KAAKA,CAACC,QAAQ,EAAEC,QAAQ,EAAE;EAC9C,MAAMC,GAAG,GAAG,MAAMC,KAAK,CAAC,GAAGL,OAAO,QAAQ,EAAE;IAC1CM,MAAM,EAAE,MAAM;IACdC,OAAO,EAAE;MAAE,cAAc,EAAE;IAAmB,CAAC;IAC/CC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAAC;MAAER,QAAQ;MAAEC;IAAS,CAAC;EAC7C,CAAC,CAAC;EACF,IAAI,CAACC,GAAG,CAACO,EAAE,EAAE;IACX,MAAMC,IAAI,GAAG,MAAMR,GAAG,CAACS,IAAI,CAAC,CAAC,CAACC,KAAK,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC;IAC/C,MAAM,IAAIC,KAAK,CAACH,IAAI,CAACI,OAAO,IAAI,cAAc,CAAC;EACjD;EACA,MAAMJ,IAAI,GAAG,MAAMR,GAAG,CAACS,IAAI,CAAC,CAAC;EAC7BI,YAAY,CAACC,OAAO,CAAC,OAAO,EAAEN,IAAI,CAACO,KAAK,CAAC;EACzCF,YAAY,CAACC,OAAO,CAAC,MAAM,EAAET,IAAI,CAACC,SAAS,CAACE,IAAI,CAACQ,IAAI,CAAC,CAAC;EACvD,OAAOR,IAAI;AACb;AAEA,OAAO,SAASS,MAAMA,CAAA,EAAG;EACvBJ,YAAY,CAACK,UAAU,CAAC,OAAO,CAAC;EAChCL,YAAY,CAACK,UAAU,CAAC,MAAM,CAAC;AACjC;AAEA,OAAO,SAASC,QAAQA,CAAA,EAAG;EACzB,OAAON,YAAY,CAACO,OAAO,CAAC,OAAO,CAAC;AACtC;AAEA,OAAO,SAASC,OAAOA,CAAA,EAAG;EACxB,MAAMC,GAAG,GAAGT,YAAY,CAACO,OAAO,CAAC,MAAM,CAAC;EACxC,OAAOE,GAAG,GAAGjB,IAAI,CAACkB,KAAK,CAACD,GAAG,CAAC,GAAG,IAAI;AACrC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}